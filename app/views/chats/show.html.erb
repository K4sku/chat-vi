<div class="relative flex flex-col h-full w-full">
  <%= turbo_stream_from [@chat, "messages"] %>

  <div class="p-3 border-b border-gray-200">
    <% if notice.present? %>
      <p class="mb-2 p-2 text-sm text-green-700 bg-green-100 rounded"><%= notice %></p>
    <% end %>
    <h1 class="text-lg font-semibold text-gray-800">Chat <%= @chat.id %></h1> <%# Example, adjust as needed %>
  </div>

  <div id="messages" class="flex-1 overflow-y-auto pb-20">
    <%= render @chat.messages %>
  </div>
    <!-- Your form to submit new messages -->
    <div class="absolute bottom-0 inset-x-0 p-4 border-t border-gray-200 flex items-center">
    <%= form_with(model: [ @chat, Message.new ], method: :post, class: "flex items-center space-x-2 w-full") do |f| %>
      <%= f.text_area :content, class: "textarea flex-1 mr-2 block w-full", autocomplete: "off" %>
      <%= f.button "Send", class: "btn flex-shrink-0" %>
    <% end %>
  </div>
</div>
